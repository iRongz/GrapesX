var editor = grapesjs.init({
  height: '100%',
  showOffsets: 1,
  noticeOnUnload: 0,
  storageManager: {
    autoload: 0
  },
  container: '#gjs',
  fromElement: true,
  showDevices: false,
  plugins: ['grapesjs-blocks-bootstrap4'],
  pluginsOpts: {
    'grapesjs-blocks-bootstrap4': {
      blocks: {},
      blockCategories: {},
      labels: {},
      gridDevicesPanel: true,
      formPredefinedActions: null,
      optionsStringSeparator: '::'
    }
  },
  canvas: {
    styles: [
      'https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css',
      'https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'
    ],
    scripts: [
      'https://code.jquery.com/jquery-3.3.1.slim.min.js',
      'https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js',
      'https://stackpath.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js'
    ],
  },
});

const panelManager = editor.Panels;

var newButtons = panelManager.addButton('options',[{
  id: 'canvas-clear',
  className: 'fa fa-trash-o',
  command: 'core:canvas-clear',
},{
  id: 'undo',
  className: 'fa fa-undo',
  command: 'core:undo',
},{
  id: 'redo',
  className: 'fa fa-repeat',
  command: 'core:redo',
}]);

window.editor = editor;

var blockManager = editor.BlockManager;
// blockManager.remove('tabs-tab');
blockManager.add('intro-imgs', {
  label: 'Intro Imgs',
  category: 'DealerOn',
  attributes: {
    class: 'fa fa-picture-o'
  },
  content: {
    script: "function expandRight() { document.getElementById('fancy-banner__left').classList.add('collapsed'); document.querySelector('#fancy-banner__right .fancy-banner__content').classList.toggle('action-hide'); document.querySelector('#fancy-banner__right .fancy-banner__content-expanded').classList.toggle('action-hide'); document.querySelector('#fancy-banner__left .fancy-banner__content .inventory-collapsed-content').classList.toggle('action-remove'); document.querySelector('#fancy-banner__left .fancy-banner__content .inventory-exspended-content').classList.toggle('action-remove'); document.querySelector('.overlay').classList.add('fancy-banner-open__right'); $('#fancy-banner__left .horizontalInventorySearch select').hide(); } function resetRight() { document.getElementById('fancy-banner__left').classList.remove('collapsed'); document.querySelector('#fancy-banner__right .fancy-banner__content').classList.toggle('action-hide'); document.querySelector('#fancy-banner__right .fancy-banner__content-expanded').classList.toggle('action-hide'); document.querySelector('#fancy-banner__left .fancy-banner__content .inventory-collapsed-content').classList.toggle('action-remove'); document.querySelector('#fancy-banner__left .fancy-banner__content .inventory-exspended-content').classList.toggle('action-remove'); document.querySelector('.overlay').classList.remove('fancy-banner-open__right'); $('#fancy-banner__left .horizontalInventorySearch select').show(); } document.getElementById('fancy-banner__right').addEventListener('mouseenter', expandRight); document.getElementById('fancy-banner__right').addEventListener('mouseleave', resetRight);",
    content: `<style>.contentTop {display: none; } .horizontalInventorySearch .horizontalSearchOptions {padding-left: 5px; } .horizontalInventorySearch .form-group {overflow: hidden; } .horizontalInventorySearch .form-control {appearance: none; border: 0; border-radius: 0; color: #222; font-size: 14px; height: 40px; outline: none !important; padding: 10px 30px 10px 10px; transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out; -webkit-appearance: none; -moz-appearance: none; } .horizontalInventorySearch select {cursor: pointer; } .horizontalInventorySearch .form-control option {font-size: 14px; padding: 5px 10px; } .horizontalInventorySearch .form-group {position: relative; } .horizontalInventorySearch .form-group:before {content: '&#92;f0d7'; color: #222; font-family: 'FontAwesome'; position: absolute; top: 10px; right: 10px; } @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {.horizontalInventorySearch .form-group:before {display: none; } } #h_search_widget_panel_search_by_stock .form-group:last-of-type:before {content: none; } .horizontalSearchOptions li:not(:first-child)::before {color: #fff !important; } .horizontalInventorySearch {padding: 0; } .horizontalInventorySearch .btn-cta {padding: 8px 35px; background: #D20F06; border: 2px solid #D20F06; } .horizontalInventorySearch .btn-cta:hover, .horizontalInventorySearch .btn-cta:focus, .horizontalInventorySearch .btn-cta:active {background: #D20F06; color: #FFF; border: 2px solid #D20F06; } .initial .summary {line-height: 1.5; } #fancy-banner__left .pulse-button {border: 4px solid #fff; box-shadow: 0 0 0 0 #fff; } #fancy-banner__left .fa-plus {color: #fff; } .pulse-button {position: relative; font-size: 25px; margin-top: 1em; width: 60px; height: 60px; border: 4px solid #D20F06; box-shadow: 0 0 0 0 #D20F06; border-radius: 50%; background-color: transparent; cursor: pointer; -webkit-animation: pulse 2s infinite cubic-bezier(0.3, 0, 0, 1); -moz-animation: pulse 2s infinite cubic-bezier(0.3, 0, 0, 1); -ms-animation: pulse 2s infinite cubic-bezier(0.3, 0, 0, 1); animation: pulse 2s infinite cubic-bezier(0.3, 0, 0, 1); } @-webkit-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(215, 25, 32, 0); } } @-moz-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(215, 25, 32, 0); } } @-ms-keyframes pulse {to {box-shadow: 0 0 0 10px rgba(215, 25, 32, 0); } } @keyframes pulse {to {box-shadow: 0 0 0 10px rgba(215, 25, 32, 0); } } .fancy-banner {overflow: hidden; } .fancy-banner__left .fancy-banner__inner {transition: all 0.8s; background: linear-gradient(90deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(#MISCPATH#bg-intro-new.jpg) center center/cover no-repeat; color: #fff; } .fancy-banner__right .fancy-banner__inner {transition: transform 0.8s; background: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)), url(#MISCPATH#service-bg3.jpg) center center/cover no-repeat; } .fancy-banner__outer .fancy-banner__inner {text-align: center; padding: 25px 15px; } .horizontalSearchOptions a, .horizontalSearchOptions li:not(.active) a, .horizontalSearchOptions li:not(:first-child):before {color: #fff !important; } .horizontalSearchOptions li.active a {text-decoration: underline; } @media only screen and (min-width: 1200px) {.action-hide {opacity: 0; } .action-remove {display: none !important; } .flex-box {display: flex; flex-direction: row; justify-content: space-between; } .flex-1 {flex: 1; margin: 1%; } .fancy-banner__container {position: relative; overflow-x: hidden; height: 580px; } .fancy-banner__container .overlay {background: -moz-linear-gradient(left, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.88) 60%, rgba(255, 255, 255, 0.88) 100%); background: -webkit-linear-gradient(left, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.88) 60%, rgba(255, 255, 255, 0.88) 100%); background: linear-gradient(to right, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.88) 60%, rgba(255, 255, 255, 0.88) 100%); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#66ffffff', endColorstr='#e0ffffff', GradientType=1); position: absolute; top: 0; bottom: 0; right: 0; left: 0; } .fancy-banner__container .fa-plus {color: #D20F06; } .fancy-banner__outer {position: absolute; width: 85%; height: 100%; overflow: hidden; transition: transform 0.8s; } .fancy-banner__outer .fancy-banner__inner {height: inherit; display: flex; align-items: center; justify-content: center; color: #000; } .fancy-banner__inner:before, .fancy-banner__inner:after {content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 0.8s; z-index: 1; pointer-events: none; } .fancy-banner__content {width: 50%; } .fancy-banner__content-expanded {width: 70%; color: #000; } .fancy-banner__right .fancy-banner__content-expanded {margin-left: 10%; } .fancy-banner__content-expanded .title {text-transform: uppercase; font-weight: 700; } .fancy-banner__content .title {font-weight: 700; } .fancy-banner__content-expanded .btn-white {background-color: #D20F06; border: 2px solid #D20F06; color: #fff; padding: 0 30px; -webkit-transition: all .3s ease-in-out; -moz-transition: all .3s ease-in-out; -o-transition: all .3s ease-in-out; -ms-transition: all .3s ease-in-out; transition: all .3s ease-in-out; } .fancy-banner__content-expanded .btn-white:hover {background-color: #D20F06; color: #fff; } .fancy-banner__content {position: absolute; top: 30%; } .fancy-banner__content, .fancy-banner__content-expanded {z-index: 1; -webkit-transition: all .3s ease-in-out; -moz-transition: all .3s ease-in-out; -o-transition: all .3s ease-in-out; -ms-transition: all .3s ease-in-out; transition: all .3s ease-in-out; } .fancy-banner__right .fancy-banner__content {left: 39%; } .fancy-banner__right.collapsed .fancy-banner__content {left: 27%; } .fancy-banner__left {top: 0; left: -10%; z-index: 1; transform: skewX(-10deg); transform-origin: top left; } .fancy-banner__left .fancy-banner__inner {transform: skewX(10deg) translateX(5%); transform-origin: top left; } .fancy-banner__left:hover .fancy-banner__inner {transition: all 0.8s; } .fancy-banner__left.collapsed .fancy-banner__inner .fancy-banner__content {left: 50%; } .fancy-banner__right .fancy-banner__inner .fancy-banner__content-expanded {transition: all 0.8s; } .fancy-banner__left:hover .fancy-banner__inner .fancy-banner__content {transition: all 0.8s; } .fancy-banner__left:hover .fancy-banner__inner:before {opacity: 1; } .fancy-banner__left.collapsed {transform: skewX(-10deg) translateX(-53%); box-shadow: 3px 1px 13px rgba(0, 0, 0, 0.3); } .fancy-banner__left.collapsed .fancy-banner__inner:after {opacity: 1; } .fancy-banner__right {top: 0; right: -25%; z-index: 0; } .fancy-banner__right .fancy-banner__inner {transform: translateX(-10%); } .fancy-banner__right:hover {transform: translateX(-25%); } .fancy-banner__right:hover .fancy-banner__inner {transform: translateX(-3%); } .fancy-banner__right:hover .fancy-banner__inner:before {opacity: 1; } .fancy-banner__right.collapsed {transform: translateX(28%); } .fancy-banner__right.collapsed .fancy-banner__inner {transform: translateX(-25%); } .fancy-banner__right.collapsed .fancy-banner__inner:after {opacity: 1; } .horizontalInventorySearch select {text-transform: uppercase; border-radius: 0; } } @media only screen and (max-width: 1199px) {#fancy-banner__left .fancy-banner__content {padding: 25px 0; } .fancy-banner__right .title {color: #000; } .fancy-banner__right .fancy-banner__inner {background: linear-gradient(rgba(255, 255, 255, 0.92), rgba(255, 255, 255, 0.8)), url("#MISCPATH#service-bg3.jpg?width=990") center center/cover no-repeat; } } @media only screen and (max-width: 767px) {.margin-sm-x {margin: 0; } .horizontalInventorySearch {padding-left: 20px; padding-right: 10px; } .pulse-button i {position: absolute; left: 0; right: 0; top: 14px; bottom: 0; } } @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {.fancy-banner__left .inventory-exspended-content {margin-left: -100% } } < !--[if IE]>.fancy-banner__left .inventory-exspended-content {margin-left: -100% } < ![endif]--></style><section class="fancy-banner"> <div class="container-fluid"> <div class="row margin-sm-x"> <div class="col-xs-12"> <div class="row fancy-banner__container"> <div class="overlay"></div> <div id="fancy-banner__left" class="fancy-banner__outer fancy-banner__left"> <div class="fancy-banner__inner"> <div class="fancy-banner__content"> <div class="initial"> <div class="inventory-collapsed-content visible-lg visible-xl action-remove"> <p class="h1 title heading-xl text-uppercase text-white" style="padding-top: 10px;">Inventory</p> <button class="pulse-button text-white"><i class="fa fa-plus"></i></button> </div> <!-- Mobile Title --> <div class="inventory-exspended-content pad-vert-2x"> <p class="h1 title margin-vert-x heading-xl text-uppercase text-white">Inventory</p> <div id="block1"> #block1# </div> </div> </div> </div> </div> </div> <div id="fancy-banner__right" class="fancy-banner__outer fancy-banner__right"> <div class="fancy-banner__inner"> <div class="fancy-banner__content"> <div class="initial"> <div class="visible-lg visible-xl"> <p class="h1 title heading-xl text-uppercase">Service</p> <button class="pulse-button"><i class="fa fa-plus"></i></button> </div> <!-- Mobile Title --> <div class="visible-md visible-sm visible-xs pad-vert-2x"> <p class="h2 title margin-top-x text-uppercase">Schedule Service</p> <a class="btn btn-cta btn-lg margin-top-1x" href="/serviceappmt.aspx"><i class="fa fa-calendar pad-right_5x"></i> Schedule Now</a> </div> </div> </div> <div class="fancy-banner__content-expanded action-hide hidden-md hidden-sm hidden-xs"> <div class="initial"> <p class="h1 title heading-lg">Service</p> <div class="row"> <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"> <p class="h4 summary2 margin-vert_5x">Our service technicians are highly trained and certified to perform whatever work you may need on your vehicle.</p> </div> </div> <div class="flex-box margin-top-3x"> <div class="flex-1"> <p><i class="fa fa-4x fa-cogs"></i></p> <a href="/service.aspx" class="btn btn-white margin-vert-1x"> <h4>Service</h4> </a> </div> <div class="flex-1"> <p><i class="fa fa-4x fa-calendar-check-o"></i></p> <a href="/serviceappmt.aspx" class="btn btn-white margin-vert-1x"> <h4>Schedule</h4> </a> </div> <div class="flex-1"> <p><i class="fa fa-4x fa-tags"></i></p> <a href="/service-parts-specials.html" class="btn btn-white margin-vert-1x"> <h4>Specials</h4> </a> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </section>`,
  }
});
blockManager.add('intro-video', {
  label: 'Intro Video',
  category: 'DealerOn',
  type: 'video',
  attributes: {
    class: 'fa fa-youtube-play'
  },
  content: {
    content:`<style>/* intro widget */ .horizontalInventorySearch .hisTitle { text-transform: uppercase; } .horizontalInventorySearch .hiaVehiclesAvailable { color: #fff; font-family: 'proxima_nova_rgbold'; text-transform: uppercase; } .horizontalInventorySearch .btn-cta { padding: 6px 16px;} .horizontalInventorySearch small ul.list-inline { margin-left: 0; } .horizontalSearchOptions li.active a { color: #fff; text-decoration: none; } .hiaVehiclesAvailable { -moz-animation-delay: 0s; -webkit-animation-delay: 0s; } .horizontalSearchOptions { -moz-animation-delay: 0.5s; -webkit-animation-delay: 0.5s; } #horInventoryTabContent { -moz-animation-delay: 1s; -webkit-animation-delay: 1s; } /* Video Section */ #videoOverlay {width: 100%; height: 100%; top: 0; position: absolute; background: -moz-linear-gradient(top, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%); background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%); background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#33000000', endColorstr='#cc000000', GradientType=0); } #videoSection {position: relative; background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('https://cdjrdemo1.dealeron.com/static/dealer-12996/bgVideo_1.jpg'); background-attachment: scroll; background-size: cover; background-repeat: no-repeat; background-position: 50% 50%; } #block6 h2 {display: none;} #block6 {margin-bottom: 40px;} /* Media Section */ @media (min-width: 1650px) {.introSec .embed-responsive { margin-top: -350px; } } @media (max-width: 1649px) and (min-width: 1200px) {.introSec .embed-responsive { margin-top: -100px; } } @media (min-width: 1025px) {#videoBlock { max-height: 525px; overflow: hidden; background-size: cover; } #videoContent { width: 100%; position: absolute; top: 0 !important; } .introSec .inventorySearch { background-color: rgba(0, 0, 0, .2); min-height: 525px;} .introSec .horizontalInventorySearch { margin: 60px auto 0; padding: 45px 15px 25px; } } @media (max-width: 1024px) {#videoBlock { display: none; } } @media (max-width: 1024px) and (min-width: 768px) {.introSec .horizontalInventorySearch { margin: 80px 0 10px; } } @media (min-width: 768px) {.horizontalInventorySearch .hiaVehiclesAvailable { font-size: 42px; margin: 8px 0 12px; } } @media(min-width: 768px) and (max-width: 1024px) {.introSec .horizontalInventorySearch { width: 550px; margin-left: auto; margin-right: auto; margin-top: 20px; } } @media (max-width: 767px) {.horizontalInventorySearch .col-md-12 { text-align: left; } .horizontalInventorySearch .horizontalSearchOptions li:first-of-type { padding-left: 5px; } }</style><section class="introSec"> <div id="videoSection"> <div id="videoBlock"> <div class="embed-responsive embed-responsive-16by9"> <video autoplay loop muted volume="0"> <source src="https://cdjrdemo1.dealeron.com/static/dealer-12996/videos/videoCDJR3_1.mp4" type="video/mp4"> <source src="https://cdjrdemo1.dealeron.com/static/dealer-12996/videos/videoCDJR3_1.webm" type="video/webm"> <source src="https://cdjrdemo1.dealeron.com/static/dealer-12996/videos/videoCDJR3_1.ogv" type="video/ogg"> </video> </div> </div> <div id="videoOverlay"></div> <div id="videoContent"> <div class="inventorySearch text-white text-center-sm"> <div class="container"> <div class="row"> <div class="col-md-12"> <div id="block1"> #Block1# </div> <div id="block6">#Block6# <p class="text-center">Block 6 is pre-set Search Valet or the block the search inventory be</p></div> </div> </div> </div> </div> </div> </div> </section>`,
  }
});